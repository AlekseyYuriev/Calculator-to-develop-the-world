(()=>{"use strict";var e=document.querySelector(".calc__result"),r=document.querySelectorAll(".calc__btn"),t=document.getElementById("checkbox"),i=document.querySelector(".calc__btn-ac"),n=document.querySelector(".page"),u=document.querySelector(".header__title"),l=document.querySelector(".header__subtitle"),a=document.querySelectorAll(".calc__btn-light-grey"),c="",o="",s="",v=!1,d=["0","1","2","3","4","5","6","7","8","9","."],g=["/","*","-","+"];t.addEventListener("click",(function(){n.classList.toggle("page-color"),u.classList.toggle("header__title-opacity"),l.classList.toggle("header__subtitle-opacity"),a.forEach((function(e){e.classList.toggle("btn-blue")}))})),document.onkeydown=function(e){r.forEach((function(r){r.value==e.key&&r.click()}))},i.addEventListener("click",(function(){c="",o="",s="",v=!1,e.value="0"})),document.querySelector(".calc__buttons").addEventListener("click",(function(t){return function(t){if(r.forEach((function(e){e.classList.remove("active")})),t.target.classList.contains("calc__btn")&&!t.target.classList.contains("calc__btn-ac")){""===c&&""===o&&(e.value="");var i=t.target.value;if(d.includes(i)){if("0"===i&&""!==c&&""!==o&&""!==s&&v)return c=i,o="",s="",v=!1,void(e.value=c);if("0"===i&&"0"===c&&""===o)return void(e.value=c);if("0"===i&&""!==c&&"0"===o)return void(e.value=o);if("0"===i&&""===o&&""!==s)return""!==c&&String(c).length>=1?(o+=i,void(e.value=o)):(c="0",void(e.value=c));if("0"===i&&"0"!==c&&"0"!==o&&"0"!==s&&v)return c=i,e.value=c,void(v=!1);if("."===i&&"0"===c&&""===o)return c="0.",void(e.value=c);if("."===i&&""!==c&&""===o&&""!==s)return String(c).length>=1?(o="0.",void(e.value=o)):void(e.value=c);if("."===i&&""!==c&&String(o).includes(".")&&!v)return void(e.value=o);if("."===i&&""===c&&""===o&&""!==s)return c="0.",void(e.value=c);if("%"===s)return"."===i?(c="0.",o="",s="",v=!1,void(e.value=c)):(c=i,o="",s="",void(e.value=c));if(""!==c&&""!==o&&""!==s&&v)return"."===i?(c="0.",o="",s="",v=!1,void(e.value=c)):(c=i,o="",s="",v=!1,void(e.value=c));if(""===o&&""===s){if("."===i&&""===o&&""===s&&""===c)return c="0.",void(e.value=c);if("0"!==i&&String(c).startsWith("0")&&!String(c).startsWith("0."))return c=i,void(e.value=c);if("."===i&&String(c).includes("."))return void(e.value=c);if(c+=i,String(c).length>9)return c=i,void(e.value=c);e.value=c}else if(""!==c&&""!==o&&v){if("."===i&&""!==c&&""!==o)return c="0.",e.value=c,o="",void(v=!1);o=i,v=!1,e.value=o}else{if(""!==o&&String(o).startsWith("0")&&!String(o).includes("."))return"."===i&&String(o).startsWith("0")&&!String(o).includes(".")?(o="0.",void(e.value=o)):(o=i,void(e.value=o));if(o+=i,String(o).length>9)return o=i,void(e.value=o);e.value=o}}else{if("%"===i){if(""===c&&""===o&&!v)return;if(""!==c&&""!==o&&""!==s&&!v){switch(s){case"+":c=Number(c)+Number(c)*Number(o)/100;break;case"-":c=Number(c)-Number(c)*Number(o)/100;break;case"*":c=Number(c)*Number(o)/100;break;case"/":if("0"===o)return e.value="Error",c="",o="",void(s="");c=Number(c)/(Number(o)/100)}return o="",s=i,String(c).includes("e")&&String(c).length>7?c=Number(String(Number(String(c).split("e")[0]).toFixed(0))+"e"+String(c).split("e")[1]):String(c).includes(".")&&String(c).length>=9&&(c=Number(c.toFixed(7))),"Enter"===i&&""===o&&(o=c),void(e.value=c)}return s="%",c=Number(c)/100,String(c).includes("e")&&String(c).length>7?c=Number(String(Number(String(c).split("e")[0]).toFixed(0))+"e"+String(c).split("e")[1]):String(c).includes(".")&&String(c).length>=9&&(c=Number(c.toFixed(7))),"Enter"===i&&""===o&&(o=c),void(e.value=c)}if("+/-"===i){if(""===c&&""===o&&!v)return;if(""!==c&&""===o&&!v)return c=-1*Number(c),void(e.value=c);if(""!==c&&""!==o&&!v)return o=-1*Number(o),void(e.value=o);if(""!==c&&""!==o&&v)return c=-1*Number(c),void(e.value=c)}if(g.includes(i)){if(t.target.classList.add("active"),""===c&&""===o&&!v)return;if(""!==c&&""!==o&&v)o="",s=i,e.value=c;else if(""!==c&&""!==o&&""!==s){switch(s){case"+":c=Number(c)+Number(o);break;case"-":c-=o;break;case"*":c*=o;break;case"/":if("0"===o)return e.value="Error",c="",o="",void(s="");c/=o}o="",s=i}s=i,v=!1}if("Enter"===i){if(""===c&&""===o)return;if(""===s)return;switch(""===o&&(o=c),s){case"+":c=Number(c)+Number(o);break;case"-":c-=o;break;case"*":c*=o;break;case"/":if("0"===o)return e.value="Error",c="",o="",void(s="");c/=o}if(String(c).includes(".")&&String(c).includes("e")&&(c=Number(String(Number(String(c).split("e")[0]).toFixed(0))+"e"+String(c).split("e")[1])),String(c).includes(".")&&!String(c).includes("e")&&String(c).length>9){c=Number(c).toFixed(5);for(var n=0;n<=String(c).length;n++)String(c).endsWith("0")&&(c=c.slice(0,-1));String(c).endsWith(".")&&(c=c.slice(0,-1))}if(String(c).length>9)return c="Error",e.value=c,c="",o="",void(s="");v=!0,e.value=c}}}}(t)}))})();